<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Editar Tarea</title>
</head>
<body>
<h1>Editar Tarea</h1>
<form th:action="@{/tareas/{id}(id=${tarea.id})}" method="post">
  <label for="nombre">Nombre:</label>
  <input type="text" id="nombre" name="nombre" th:value="${tarea.nombre}" required>

  <label for="descripcion">Descripción:</label>
  <textarea id="descripcion" name="descripcion" th:text="${tarea.descripcion}" required></textarea>

  <label for="fechaApertura">Fecha de Apertura:</label>
  <input type="date" id="fechaApertura" name="fechaApertura" th:value="${tarea.fechaApertura}" required>

  <label for="fechaPlanificadaCierre">Fecha Planificada de Cierre:</label>
  <input type="date" id="fechaPlanificadaCierre" name="fechaPlanificadaCierre" th:value="${tarea.fechaPlanificadaCierre}" required>

  <label for="tipo">Tipo:</label>
  <select id="tipo" name="tipo" th:value="${tarea.tipo}">
    <option value="Mejora" th:selected="${tarea.tipo == 'Mejora'}">Mejora</option>
    <option value="Bug" th:selected="${tarea.tipo == 'Bug'}">Bug</option>
    <option value="Refactorizacion" th:selected="${tarea.tipo == 'Refactorizacion'}">Refactorización</option>
  </select>

  <label for="estado">Estado:</label>
  <select id="estado" name="estado" th:value="${tarea.estado}">
    <option value="Abierta" th:selected="${tarea.estado == 'Abierta'}">Abierta</option>
    <option value="En Progreso" th:selected="${tarea.estado == 'En Progreso'}">En Progreso</option>
    <option value="Cerrada" th:selected="${tarea.estado == 'Cerrada'}">Cerrada</option>
  </select>

  <button type="submit">Actualizar</button>
</form>
<a th:href="@{/tareas}">Volver a la lista</a>
</body>
</html>
